
## DCG  

### 개념  

- Discounted Cumulative Gain   
- 관련도 점수와 추천에 등장한 순위에 따라 감쇠하여 누적한 랭킹 품질 점수  
- 즉, 정답이 추천 목록에 얼마나 빨리 등장했는가 + 정답과 관련성이 얼마나 높은가  

### 관련도  

- 추천된 아이템이 사용자의 의도나 정답 기준에 얼마나 잘 맞는지 수치  
- e.g. 검색 및 질의 -> 질의(Query) 와 문서(Document)의 관련성  
- e.g. 추천 -> 사용자의 선호도 (별점 1~5점과 같은), 혹은 사용자-아이템 간 관련도   

|관련도|예시|
|---|---|
|사람의 선호도|0:무관, 1:조금관련, 2:관련, 3:매우관련, 4:완벽매칭|
|이진 값|0:불일치, 1:일치|
|질의-문서 일치율|0~1 사이의 실수값|

### 특징

- 랭킹의 위치를 고려한다.  
- 정답과 추천 아이템의 관련성을 고려한다.  
- 관련성의 평가 기준이 다양하다. (0~5 정수, 0~1실수, 0 or 1 등)  

### 사용하는 경우  

- 랭킹의 위치가 중요한 경우 or 정답과 추천 아이템의 관련성이 중요한 경우  
- 또는 랭킹의 위치와 관련성이 모두 중요한 경우  
- e.g. 검색 결과 : 정답이 얼마나 빨리 등장하는지와, 질문과 정답의 관련성이 얼마나 높은지 모두 고려 필요  
- e.g. 컨텐츠 추천 : 사용자가 좋아하는 컨텐츠가 얼마나 빨리 추천되었는지와, 컨텐츠와 사용자의 선호도가 얼마나 높은지 모두 고려 필요   
- e.g. 사용자의 액션 피드백 : 상품 추천 -> 사용자의 액션에 따라 관련성 점수를 무반응(0), 클릭(1), 장바구니(2), 구매(3)로 부여  

### 수식  

$$
DCG@K = \sum_{i=1}^{k}{\frac{rel_{i}}{log_{2}(i+1)}}
$$

- $rel_{i}$ : i번째 아이템의 관련성 점수  
- $i$ : 아이템의 순서  
- $k$ : 추천 목록의 길이  

### 코드  

```python

```




## NDCG  

